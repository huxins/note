(window.webpackJsonp=window.webpackJsonp||[]).push([[253],{566:function(e,t,r){"use strict";r.r(t);var n=r(27),a=Object(n.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"hardware-hang"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hardware-hang"}},[e._v("#")]),e._v(" Hardware Hang")]),e._v(" "),t("blockquote",[t("ul",[t("li",[t("a",{attrs:{href:"https://www.reddit.com/r/Proxmox/comments/1drs89s/intel_nic_e1000e_hardware_unit_hang/?tl=zh-hans",target:"_blank",rel:"noopener noreferrer"}},[e._v("Intel NIC e1000e 硬件单元卡死 - "),t("em",[e._v("Reddit")]),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://forum.proxmox.com/threads/e1000e-eno1-detected-hardware-unit-hang.59928/",target:"_blank",rel:"noopener noreferrer"}},[e._v("e1000e eno1: Detected Hardware Unit Hang - "),t("em",[e._v("Proxmox")]),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://blog.pakro.top/2020/solve_the_problem_of_eno1_Detected_Hardware_Unit_Hang_under_PVE/",target:"_blank",rel:"noopener noreferrer"}},[e._v("解决 PVE 下 eno1 Detected Hardware Unit Hang 的问题 - "),t("em",[e._v("Pakro")]),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.hetzner.com/robot/dedicated-server/troubleshooting/performance-intel-i218-nic/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Performance with Intel i218/i219 NIC - "),t("em",[e._v("Hetzner")]),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://techdocs.broadcom.com/cn/zh-cn/vmware-cis/vsphere/vsphere/8-0/vsphere-networking-8-0/managing-network-resources/enabling-tso.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("什么是 TCP 分段卸载 - "),t("em",[e._v("Broadcom")]),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.intel.cn/content/www/cn/zh/support/articles/000005480/ethernet-products.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("适用于 Intel 千兆位以太网网络连接的 Linux 基础驱动程序 - "),t("em",[e._v("Intel")]),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://blog.csdn.net/kaka_buka/article/details/148107029",target:"_blank",rel:"noopener noreferrer"}},[e._v("Proxmox 主机与虚拟机全部断网问题排查与解决记录 - "),t("em",[e._v("黑风风")]),t("OutboundLink")],1)])])]),e._v(" "),t("p",[t("code",[e._v("e1000e")]),e._v(" 是 Intel 板载网卡常用的驱动之一，如 HP 800 G4 DM 的板载网卡为 "),t("code",[e._v("I219-LM")]),e._v("，驱动为 "),t("code",[e._v("e1000e")]),e._v("。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("e1000e 0000:00:1f.6 eno1: Detected Hardware Unit Hang\n")])])]),t("p",[e._v("如出现以上日志，表示网卡在发送数据过程中，硬件 DMA 通道或描述符环发生了死锁/卡顿，系统层无法恢复，导致网卡功能彻底丧失。")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 查看网卡型号")]),e._v("\nlspci "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" Ethernet\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 查看网卡驱动")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ethtool")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-i")]),e._v(" eno1\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 列出每个网口的详细信息")]),e._v("\nlshw "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-c")]),e._v(" network\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 查看网卡状态")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("dmesg")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" e1000e\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("dmesg")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" eno1\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 关闭网卡 TCP 分段卸载")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ethtool")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-K")]),e._v(" eno1 tso off gso off\n")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);