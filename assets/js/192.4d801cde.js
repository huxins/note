(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{505:function(t,s,n){"use strict";n.r(s);var a=n(27),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"setuptools"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setuptools"}},[t._v("#")]),t._v(" Setuptools")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/pypa/setuptools",target:"_blank",rel:"noopener noreferrer"}},[t._v("Setuptools"),s("OutboundLink")],1),t._v(" 是一个用于 Python 项目的打包工具，它扩展了 Python 标准库中的 "),s("a",{attrs:{href:"https://docs.python.org/zh-cn/3.11/library/distutils.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("distutils"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[s("strong",[t._v("主要功能")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("依赖管理")]),t._v("：允许定义项目的依赖项，并在安装时自动解决这些依赖关系。")]),t._v(" "),s("li",[s("strong",[t._v("打包和分发")]),t._v("：提供工具来打包项目，使其可以上传到 "),s("a",{attrs:{href:"https://pypi.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PyPI"),s("OutboundLink")],1),t._v(" 或其他存储库。")]),t._v(" "),s("li",[s("strong",[t._v("入口点")]),t._v("：支持定义控制台脚本和 GUI 脚本的入口点，使得在安装包时可以自动创建可执行命令。")]),t._v(" "),s("li",[s("strong",[t._v("扩展支持")]),t._v("：支持编译 C 或 C++ 扩展模块，并将其包含在包中。")])]),t._v(" "),s("p",[s("strong",[t._v("安装")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("pip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" setuptools\n")])])]),s("h2",{attrs:{id:"一、包信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、包信息"}},[t._v("#")]),t._v(" 一、包信息")]),t._v(" "),s("p",[t._v("一些包信息，如元数据、内容、依赖关系等，可以在 "),s("code",[t._v("pyproject.toml")]),t._v("、"),s("code",[t._v("setup.cfg")]),t._v(" 或 "),s("code",[t._v("setup.py")]),t._v(" 文件中配置。")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("pyproject.toml")])]),t._v(" "),s("p",[s("code",[t._v("pyproject.toml")]),t._v(" 是 "),s("a",{attrs:{href:"https://peps.python.org/pep-0518/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PEP 518"),s("OutboundLink")],1),t._v(" 和 "),s("a",{attrs:{href:"https://peps.python.org/pep-0621/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PEP 621"),s("OutboundLink")],1),t._v(" 引入的一种新的标准化格式，用于定义 Python 项目的构建系统要求，以及声明性地描述项目元数据。")]),t._v(" "),s("p",[t._v("它最初是为了支持 "),s("a",{attrs:{href:"https://peps.python.org/pep-0517/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PEP 517"),s("OutboundLink")],1),t._v(" 中定义的构建接口而引入的，但现在也逐渐用于替代部分 "),s("code",[t._v("setup.py")]),t._v(" 和 "),s("code",[t._v("setup.cfg")]),t._v(" 的功能。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("setup.py")])]),t._v(" "),s("p",[s("code",[t._v("setup.py")]),t._v(" 是最早使用的配置文件，用于定义 Python 项目的元数据和依赖。")]),t._v(" "),s("p",[t._v("它是一个 Python 脚本，可以运行任意的、可能不受信任的 Python 代码。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("setup.cfg")])]),t._v(" "),s("p",[s("code",[t._v("setup.cfg")]),t._v(" 主要用于静态配置，旨在将项目的配置与元数据从代码中分离出来。")]),t._v(" "),s("p",[t._v("它使用 INI 格式来定义项目的配置信息，不包含任何代码逻辑。")])])]),t._v(" "),s("p",[t._v("下面是一个简单的 "),s("code",[t._v("setup.py")]),t._v(" 示例。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" setuptools "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" setup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" find_packages\n\nsetup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my_package"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    version"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    packages"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("find_packages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    install_requires"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"requests"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    entry_points"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'console_scripts'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my_command=my_package.module:function'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);