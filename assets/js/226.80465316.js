(window.webpackJsonp=window.webpackJsonp||[]).push([[226],{539:function(s,a,t){"use strict";t.r(a);var e=t(27),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"procps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#procps"}},[s._v("#")]),s._v(" procps")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://gitlab.com/procps-ng/procps",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("procps")]),a("OutboundLink")],1),s._v(" 包含了一组用于监控和管理系统进程的命令行工具。这些工具主要从 Linux 内核的 "),a("code",[s._v("/proc")]),s._v(" 文件系统中获取信息，帮助用户查看和管理系统的运行状态和资源使用情况。")]),s._v(" "),a("h2",{attrs:{id:"一、进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、进程"}},[s._v("#")]),s._v(" 一、进程")]),s._v(" "),a("h3",{attrs:{id:"ps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ps"}},[s._v("#")]),s._v(" ps")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://man7.org/linux/man-pages/man1/ps.1.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("ps")]),a("OutboundLink")],1),s._v(" 用于显示当前系统中运行的进程信息。")]),s._v(" "),a("p",[a("code",[s._v("ps")]),s._v(" 显示的是执行该命令时的进程状态的静态快照，如果需要实时查看进程信息，通常会使用 "),a("code",[s._v("top")]),s._v(" 或 "),a("code",[s._v("htop")]),s._v("。")]),s._v(" "),a("ul",[a("li",[s._v("-"),a("strong",[s._v("e")]),s._v("：显示所有进程。")]),s._v(" "),a("li",[s._v("-"),a("strong",[s._v("f")]),s._v("：显示完整格式的列表。")]),s._v(" "),a("li",[s._v("-"),a("strong",[s._v("a")]),s._v("：显示与终端相关的所有进程，但不包括会话领导进程（session leaders）和不与终端关联的进程。")]),s._v(" "),a("li",[s._v("-"),a("strong",[s._v("u")]),s._v(" "),a("em",[s._v("userlist")]),s._v("：按用户 ID 或名称选择。")]),s._v(" "),a("li",[a("strong",[s._v("a")]),s._v("：显示所有用户的进程。")]),s._v(" "),a("li",[a("strong",[s._v("u")]),s._v("：显示详细信息。")]),s._v(" "),a("li",[a("strong",[s._v("x")]),s._v("：显示不与终端关联的进程。")])]),s._v(" "),a("p",[s._v("例如，显示所有进程信息。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ef")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux\n")])])]),a("h3",{attrs:{id:"kill"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kill"}},[s._v("#")]),s._v(" kill")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://man7.org/linux/man-pages/man1/kill.1.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("kill")]),a("OutboundLink")],1),s._v(" 用于发送信号给进程。它可以用来终止、暂停、恢复或向进程发送其他信号。")]),s._v(" "),a("ul",[a("li",[s._v("-"),a("strong",[s._v("n")]),s._v("："),a("code",[s._v("n")]),s._v(" 大于 "),a("code",[s._v("1")]),s._v("。信号名称对应的数字。")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("kill [信号] [进程号]\n")])])]),a("ul",[a("li",[a("strong",[s._v("默认信号")]),s._v("：如果不指定信号类型，"),a("code",[s._v("kill")]),s._v(" 默认发送 "),a("code",[s._v("SIGTERM")]),s._v(" 信号（信号编号 15），这是一个请求进程正常终止的信号。")]),s._v(" "),a("li",[a("strong",[s._v("指定信号")]),s._v("：可以通过信号名称或信号编号指定信号。")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1234")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发送 SIGKILL 信号（编号 9），强制终止 PID 为 1234 的进程")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-SIGSTOP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1234")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发送 SIGSTOP 信号，暂停 PID 为 1234 的进程")]),s._v("\n")])])]),a("p",[s._v("除了 "),a("code",[s._v("kill")]),s._v("，还有一些相关的工具和命令可以用于管理进程和发送信号：")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[a("code",[s._v("pkill")])]),s._v("：通过进程名称发送信号，而不是使用 PID。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pkill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-9")]),s._v(" nginx  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 强制终止所有名为 nginx 的进程")]),s._v("\n")])])])]),s._v(" "),a("li",[a("p",[a("strong",[a("code",[s._v("killall")])]),s._v("：终止所有匹配指定名称的进程。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("killall")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-15")]),s._v(" python  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 向所有 python 进程发送 SIGTERM 信号")]),s._v("\n")])])])])]),s._v(" "),a("h2",{attrs:{id:"二、内核"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、内核"}},[s._v("#")]),s._v(" 二、内核")]),s._v(" "),a("h3",{attrs:{id:"sysctl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sysctl"}},[s._v("#")]),s._v(" sysctl")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://man7.org/linux/man-pages/man8/sysctl.8.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("sysctl")]),a("OutboundLink")],1),s._v(" 命令用于在运行时查看和修改内核参数。通过 "),a("code",[s._v("sysctl")]),s._v(" 命令，系统管理员可以调整内核的行为，优化系统性能，或改变系统的某些特性。")]),s._v(" "),a("p",[a("code",[s._v("sysctl")]),s._v(" 命令作用的参数来自于 Linux 内核的 "),a("code",[s._v("/proc/sys")]),s._v(" 虚拟文件系统。这个文件系统暴露了许多内核参数，允许用户通过文件系统接口来读写这些参数。")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("查看参数")]),s._v("：可以使用 "),a("code",[s._v("sysctl -a")]),s._v(" 来查看所有可用的内核参数及其当前值。")]),s._v(" "),a("li",[a("strong",[s._v("修改参数")]),s._v("：可以使用 "),a("code",[s._v("sysctl -w parameter=value")]),s._v(" 来修改某个特定参数的值。")]),s._v(" "),a("li",[a("strong",[s._v("配置文件")]),s._v("：可以通过编辑 "),a("code",[s._v("/etc/sysctl.conf")]),s._v(" 文件来永久更改参数设置，然后执行 "),a("code",[s._v("sysctl -p")]),s._v(" 以应用更改。")])]),s._v(" "),a("p",[s._v("查看所有参数及其值。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sysctl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("\n")])])]),a("p",[s._v("修改某个参数，例如调整最大文件句柄数。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sysctl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" fs.file-max"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100000")]),s._v("\n")])])]),a("p",[s._v("查看某个特定参数的值。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sysctl")]),s._v(" net.ipv4.ip_forward\n")])])]),a("ul",[a("li",[a("p",[a("strong",[s._v("禁用 IPv6")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sysctl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("net.ipv6.conf.all.disable_ipv6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/sysctl.d/disable-ipv6.conf\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sysctl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("net.ipv6.conf.default.disable_ipv6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/sysctl.d/disable-ipv6.conf\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sysctl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("net.ipv6.conf.lo.disable_ipv6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/sysctl.d/disable-ipv6.conf\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sysctl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("net.ipv6.conf.eth0.disable_ipv6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/sysctl.d/disable-ipv6.conf\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sysctl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /etc/sysctl.d/disable-ipv6.conf\n")])])]),a("p",[s._v("如果使用 "),a("code",[s._v("ip a")]),s._v(" 命令，在输出中没有发现 IPv6 地址，则说明成功关闭了 IPv6 功能。")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);