(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{495:function(t,a,r){"use strict";r.r(a);var s=r(27),n=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"python-标准库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python-标准库"}},[t._v("#")]),t._v(" Python 标准库")]),t._v(" "),a("p",[t._v("Python "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("标准库"),a("OutboundLink")],1),t._v("非常庞大，所提供的组件涉及范围十分广泛。")]),t._v(" "),a("h2",{attrs:{id:"系统交互"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统交互"}},[t._v("#")]),t._v(" 系统交互")]),t._v(" "),a("p",[a("em",[t._v("访问系统资源、环境变量、命令行参数等。")])]),t._v(" "),a("h3",{attrs:{id:"sys"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sys"}},[t._v("#")]),t._v(" sys")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/sys.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("sys")]),a("OutboundLink")],1),t._v(" 模块提供了一些变量和函数。这些变量可能被解释器使用，也可能由解释器提供。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("sys."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/sys.html#sys.argv",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("argv")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("一个列表，其中包含了被传递给 Python 脚本的命令行参数。")]),t._v(" "),a("p",[a("code",[t._v("argv[0]")]),t._v(" 为脚本的名称。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("如果没有脚本名被传递给 Python 解释器，"),a("code",[t._v("argv[0]")]),t._v(" 为空字符串。")])]),t._v(" "),a("li",[a("p",[t._v("如果是通过 Python 解释器的命令行参数 "),a("code",[t._v("-c")]),t._v(" 来执行，"),a("code",[t._v("argv[0]")]),t._v(" 会被设置成字符串 "),a("code",[t._v("'-c'")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("给定脚本名是 "),a("code",[t._v("-")]),t._v("（标准输入）时，"),a("code",[t._v("argv[0]")]),t._v(" 是 "),a("code",[t._v("'-'")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("如果使用选项 "),a("code",[t._v("-m module")]),t._v("，"),a("code",[t._v("argv[0]")]),t._v(" 就是包含目录的模块全名。")])])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("python "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"import sys; print(sys.argv)"')]),t._v("\necho "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'import sys\\nprint(sys.argv)'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" python "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\n")])])]),a("p",[t._v("解释器不处理 "),a("code",[t._v("-c command")]),t._v(" 或 "),a("code",[t._v("-m module")]),t._v(" 之后的选项，而是直接留在 "),a("code",[t._v("sys.argv")]),t._v(" 中由命令或模块来处理。")])])]),t._v(" "),a("h3",{attrs:{id:"os"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#os"}},[t._v("#")]),t._v(" os")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/os.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("os")]),a("OutboundLink")],1),t._v(" 模块提供了一种使用与操作系统相关的功能的便捷式途径。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("os."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/os.html#os.getcwd",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("getcwd")]),a("OutboundLink")],1),t._v("()")]),t._v(" "),a("p",[t._v("返回表示当前工作目录的字符串。")])])]),t._v(" "),a("h3",{attrs:{id:"argparse"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#argparse"}},[t._v("#")]),t._v(" argparse")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/argparse.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("argparse")]),a("OutboundLink")],1),t._v(" 模块是用于命令行选项、参数和子命令的解析器。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("argparse."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/argparse.html#argparse.ArgumentParser",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("ArgumentParser")]),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/argparse.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("argparse")]),a("OutboundLink")],1),t._v(" 模块对命令行接口的支持是围绕 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/argparse.html#argparse.ArgumentParser",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("argparse.ArgumentParser")]),a("OutboundLink")],1),t._v(" 的实例建立的。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("parser "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ArgumentParser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prog"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ProgramName"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" description"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"What the program does"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/argparse.html#argparse.ArgumentParser.add_argument",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("ArgumentParser.add_argument()")]),a("OutboundLink")],1),t._v(" 方法将单个参数规格说明关联到解析器。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("parser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_argument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--verbose'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'store_true'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("help")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Enable verbose output'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nparser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_argument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--quiet'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'store_true'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("help")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Enable quiet output'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/argparse.html#argparse.ArgumentParser.parse_args",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("ArgumentParser.parse_args()")]),a("OutboundLink")],1),t._v(" 方法运行解析器并将提取的数据放入 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/argparse.html#argparse.Namespace",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("argparse.Namespace")]),a("OutboundLink")],1),t._v(" 对象。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("args "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parse_args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("verbose"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("根据解析的参数执行相应的操作。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("verbose"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Verbose mode is enabled."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("elif")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("quiet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Quiet mode is enabled."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Default mode is enabled."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/argparse.html#argparse.ArgumentParser.add_mutually_exclusive_group",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("ArgumentParser.add_mutually_exclusive_group")]),a("OutboundLink")],1),t._v(" 创建一个互斥组，"),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/argparse.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("argparse")]),a("OutboundLink")],1),t._v(" 将会确保互斥组中只有一个参数在命令行中可用。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("main_group "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_mutually_exclusive_group"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("required"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmain_group"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_argument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--verbose'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'store_true'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("help")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Enable verbose output'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmain_group"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_argument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--quiet'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'store_true'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("help")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Enable quiet output'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"文件与目录操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件与目录操作"}},[t._v("#")]),t._v(" 文件与目录操作")]),t._v(" "),a("p",[a("em",[t._v("文件读写、路径处理、压缩解压。")])]),t._v(" "),a("h3",{attrs:{id:"io"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#io"}},[t._v("#")]),t._v(" io")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("io")]),a("OutboundLink")],1),t._v(" 模块提供了 Python 用于处理各种 IO 类型的主要工具。")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("文本")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#text-i-o",target:"_blank",rel:"noopener noreferrer"}},[t._v("文本 IO"),a("OutboundLink")],1),t._v(" 预期生成 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/stdtypes.html#str",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("str")]),a("OutboundLink")],1),t._v(" 对象。")]),t._v(" "),a("p",[t._v("无论后台存储是由字节还是字符组成的，数据的编码和解码都是透明的，并且可以选择转换特定于平台的换行符。")]),t._v(" "),a("p",[t._v("创建文本流的最简单方法是使用 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/functions.html#open",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("open()")]),a("OutboundLink")],1),t._v("，可以指定编码。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myfile.txt"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"r"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" encoding"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utf-8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("内存中的文本流也可以通过 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#io.StringIO",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("StringIO")]),a("OutboundLink")],1),t._v(" 对象使用。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" io"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StringIO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some initial text data"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("二进制")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#binary-i-o",target:"_blank",rel:"noopener noreferrer"}},[t._v("二进制 IO"),a("OutboundLink")],1),t._v(" 预期生成 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("bytes")]),a("OutboundLink")],1),t._v(" 对象。")]),t._v(" "),a("p",[t._v("不执行编码、解码或换行转换。这种类型的流可以用于所有类型的非文本数据，并且还可以在需要手动控制文本数据的处理时使用。")]),t._v(" "),a("p",[t._v("创建二进制流的最简单方法是使用 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/functions.html#open",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("open()")]),a("OutboundLink")],1),t._v("，并在模式字符串中指定 "),a("code",[t._v("b")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myfile.jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rb"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("内存中的二进制流也可以通过 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#io.BytesIO",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("BytesIO")]),a("OutboundLink")],1),t._v(" 对象使用。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" io"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BytesIO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('b"some initial binary data: \\x39\\x33"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("IOBase")])]),t._v(" "),a("p",[t._v("io."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#io.IOBase",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("IOBase")]),a("OutboundLink")],1),t._v(" 是所有 IO 类的抽象基类。")]),t._v(" "),a("p",[t._v("此类为许多方法提供了空的抽象实现，派生类可以有选择地重写。默认实现代表一个无法读取、写入或查找的文件。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#io.IOBase",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("IOBase")]),a("OutboundLink")],1),t._v(" 提供以下数据属性和方法：")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#io.IOBase.close",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("close")]),a("OutboundLink")],1),t._v("()")]),t._v(" "),a("p",[t._v("刷新并关闭此流。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#io.IOBase.seek",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("seek")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("offset")]),t._v(", "),a("em",[t._v("whence")]),t._v("="),a("em",[t._v("os.SEEK_SET")]),t._v(", /)")]),t._v(" "),a("p",[t._v("将流位置修改到给定的字节 "),a("code",[t._v("offset")]),t._v("。"),a("code",[t._v("offset")]),t._v(" 将相对于由 "),a("code",[t._v("whence")]),t._v(" 指定的位置进行解析。")]),t._v(" "),a("p",[a("code",[t._v("whence")]),t._v(" 的默认值为 "),a("code",[t._v("os.SEEK_SET")]),t._v("。"),a("code",[t._v("whence")]),t._v(" 的可用值有：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("os.SEEK_SET")]),t._v(" 或 "),a("code",[t._v("0")]),t._v("：流的开头；"),a("code",[t._v("offset")]),t._v(" 应为零或正值。")]),t._v(" "),a("li",[a("code",[t._v("os.SEEK_CUR")]),t._v(" 或 "),a("code",[t._v("1")]),t._v("：当前流位置；"),a("code",[t._v("offset")]),t._v(" 可以为负值。")]),t._v(" "),a("li",[a("code",[t._v("os.SEEK_END")]),t._v(" 或 "),a("code",[t._v("2")]),t._v("：流的末尾；"),a("code",[t._v("offset")]),t._v(" 通常为负值。")])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("RawIOBase")])]),t._v(" "),a("p",[t._v("io."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#io.RawIOBase",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("RawIOBase")]),a("OutboundLink")],1),t._v(" 是原始二进制流的基类。它继承自 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#io.IOBase",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("IOBase")]),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#io.RawIOBase",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("RawIOBase")]),a("OutboundLink")],1),t._v(" 在 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#io.IOBase",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("IOBase")]),a("OutboundLink")],1),t._v(" 的现有成员以外还提供了下列方法：")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/io.html#io.RawIOBase.read",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("read")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("size")]),t._v("="),a("em",[t._v("-1")]),t._v(", /)")]),t._v(" "),a("p",[t._v("从对象中读取 "),a("code",[t._v("size")]),t._v(" 个字节并将其返回。")])])])])]),t._v(" "),a("h3",{attrs:{id:"os-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#os-path"}},[t._v("#")]),t._v(" os.path")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/os.path.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("os.path")]),a("OutboundLink")],1),t._v(" 模块实现了一些路径名称相关函数。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("os.path."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/os.path.html#os.path.join",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("join")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("path")]),t._v(", *"),a("em",[t._v("paths")]),t._v(")")]),t._v(" "),a("p",[t._v("智能地拼接一个或多个路径部分。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os\n\nfolder "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my_folder"')]),t._v("\nsubfolder "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sub_folder"')]),t._v("\nfilename "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my_file.txt"')]),t._v("\n\nfull_path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("folder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" subfolder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Full Path:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" full_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"pathlib"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pathlib"}},[t._v("#")]),t._v(" pathlib")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/pathlib.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("pathlib")]),a("OutboundLink")],1),t._v(" 模块提供表示文件系统路径的类，其语义适用于不同的操作系统。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("pathlib."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("Path")]),a("OutboundLink")],1),t._v("()")]),t._v(" "),a("p",[t._v("以当前系统的路径风格表示路径。")])]),t._v(" "),a("li",[a("p",[a("em",[t._v("Path")]),t._v("."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.resolve",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("resolve")]),a("OutboundLink")],1),t._v("()")]),t._v(" "),a("p",[t._v("将路径绝对化，返回新的路径对象。")])])]),t._v(" "),a("h2",{attrs:{id:"数学与数值计算"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数学与数值计算"}},[t._v("#")]),t._v(" 数学与数值计算")]),t._v(" "),a("p",[a("em",[t._v("数学运算、随机数生成、统计。")])]),t._v(" "),a("h3",{attrs:{id:"decimal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#decimal"}},[t._v("#")]),t._v(" decimal")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/decimal.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("decimal")]),a("OutboundLink")],1),t._v(" 模块提供对快速且正确舍入的十进制浮点运算的支持。")]),t._v(" "),a("p",[t._v("它提供了优于浮点数据类型的几个优点：")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("Decimal")]),t._v(" 类型的设计是基于考虑人类习惯的浮点数模型。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("Decimal")]),t._v(" 数字的表示是完全精确的。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("Decimal")]),t._v(" 模块包含有效位的概念。")])]),t._v(" "),a("li",[a("p",[t._v("与基于硬件的二进制浮点不同，十进制模块具有用户可更改的精度（默认为 28 位）。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" decimal "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n\ngetcontext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prec "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Decimal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" Decimal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"fractions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fractions"}},[t._v("#")]),t._v(" fractions")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/fractions.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("fractions")]),a("OutboundLink")],1),t._v(" 模块支持分数运算。")]),t._v(" "),a("p",[t._v("分数实例可以由一对整数，一个分数，或者一个字符串构建而成。")]),t._v(" "),a("h3",{attrs:{id:"random"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#random"}},[t._v("#")]),t._v(" random")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/random.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("random")]),a("OutboundLink")],1),t._v(" 模块实现了各种分布的伪随机数生成器。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("random."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/random.html#random.randint",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("randint")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("a")]),t._v(", "),a("em",[t._v("b")]),t._v(")")]),t._v(" "),a("p",[t._v("返回随机整数，满足 "),a("code",[t._v("a <= N <= b")]),t._v("。")])])]),t._v(" "),a("h2",{attrs:{id:"时间与日期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#时间与日期"}},[t._v("#")]),t._v(" 时间与日期")]),t._v(" "),a("p",[a("em",[t._v("时间处理、格式化和计时。")])]),t._v(" "),a("h3",{attrs:{id:"datetime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#datetime"}},[t._v("#")]),t._v(" datetime")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/datetime.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("datetime")]),a("OutboundLink")],1),t._v(" 模块提供了用于操作日期和时间的类。")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("datetime")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/datetime.html#datetime-objects",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("datetime")]),a("OutboundLink")],1),t._v(" 对象是包含来自 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/datetime.html#datetime.date",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("date")]),a("OutboundLink")],1),t._v(" 对象和 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/datetime.html#datetime.time",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("time")]),a("OutboundLink")],1),t._v(" 对象的所有信息的单一对象。")]),t._v(" "),a("p",[a("strong",[t._v("静态方法")]),t._v("：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("datetime."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/datetime.html#datetime.datetime.now",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("now")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("tz")]),t._v("="),a("em",[t._v("None")]),t._v(")")]),t._v(" "),a("p",[t._v("返回表示当前地方时的日期和时间对象。")])])]),t._v(" "),a("p",[a("strong",[t._v("实例方法")]),t._v("：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("datetime."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/datetime.html#datetime.datetime.strftime",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("strftime")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("format")]),t._v(")")]),t._v(" "),a("p",[t._v("返回表示日期和时间的字符串，由"),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/datetime.html#strftime-and-strptime-format-codes",target:"_blank",rel:"noopener noreferrer"}},[t._v("显式格式字符串"),a("OutboundLink")],1),t._v("控制。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("now "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nftime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" now"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strftime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%Y-%m-%d %H:%M:%S"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("datetime."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/datetime.html#datetime.datetime.replace",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("replace")]),a("OutboundLink")],1),t._v("()")]),t._v(" "),a("p",[t._v("返回一个具有同样属性值的 "),a("code",[t._v("datetime")]),t._v("，除非通过任何关键字参数为某些属性指定了新值。")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("timedelta")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/datetime.html#timedelta-objects",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("timedelta")]),a("OutboundLink")],1),t._v(" 对象表示一段持续的时间，即两个 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/datetime.html#datetime.datetime",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("datetime")]),a("OutboundLink")],1),t._v(" 或 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/datetime.html#datetime.date",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("date")]),a("OutboundLink")],1),t._v(" 实例之间的差值。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" datetime "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timedelta\n\nnow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("today"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取上一天的时间日期")]),t._v("\nlast_day "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" now "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timedelta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("days"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前日期:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" now"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strftime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%Y-%m-%d"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"昨日日期:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" last_day"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strftime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%Y-%m-%d"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"calendar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#calendar"}},[t._v("#")]),t._v(" calendar")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/calendar.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("calendar")]),a("OutboundLink")],1),t._v(" 模块提供了与日历相关的实用函数。")]),t._v(" "),a("p",[a("strong",[t._v("静态方法")]),t._v("：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("calendar."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/calendar.html#calendar.monthrange",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("monthrange")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("year")]),t._v(", "),a("em",[t._v("month")]),t._v(")")]),t._v(" "),a("p",[t._v("返回指定年份的指定月份的第一天是星期几和这个月的天数。")])])]),t._v(" "),a("h3",{attrs:{id:"time"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#time"}},[t._v("#")]),t._v(" time")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/time.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("time")]),a("OutboundLink")],1),t._v(" 模块提供了各种与时间相关的函数。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("time."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/time.html#time.sleep",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("sleep")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("secs")]),t._v(")")]),t._v(" "),a("p",[t._v("在给定的秒数内暂停调用线程的执行。该参数可以是一个浮点数，以指示更精确的睡眠时间。")])])]),t._v(" "),a("h2",{attrs:{id:"数据序列化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据序列化"}},[t._v("#")]),t._v(" 数据序列化")]),t._v(" "),a("p",[a("em",[t._v("数据转换、存储和传输。")])]),t._v(" "),a("h3",{attrs:{id:"json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#json"}},[t._v("#")]),t._v(" json")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/json.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("json")]),a("OutboundLink")],1),t._v(" 模块是用于处理 JSON 数据的标准库。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("json."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/json.html#json.dumps",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("dumps")]),a("OutboundLink")],1),t._v("()")]),t._v(" "),a("p",[t._v("序列化 Python 对象为 JSON 字符串。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" json\n\ndata "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Alice"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"is_student"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\njson_str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dumps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json_str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("json."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/json.html#json.loads",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("loads")]),a("OutboundLink")],1),t._v("()")]),t._v(" "),a("p",[t._v("反序列化 JSON 字符串为 Python 对象。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" json\n\njson_str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"name": "Alice", "age": 25, "is_student": false}\'')]),t._v("\ndata "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json_str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"网络与通信"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络与通信"}},[t._v("#")]),t._v(" 网络与通信")]),t._v(" "),a("p",[a("em",[t._v("网络协议、HTTP 请求、Socket 通信。")])]),t._v(" "),a("h3",{attrs:{id:"http"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[t._v("#")]),t._v(" http")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/http.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("http")]),a("OutboundLink")],1),t._v(" 是一个包：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/http.server.html#module-http.server",target:"_blank",rel:"noopener noreferrer"}},[t._v("http.server"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"并发与异步编程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#并发与异步编程"}},[t._v("#")]),t._v(" 并发与异步编程")]),t._v(" "),a("p",[a("em",[t._v("多线程、多进程、异步任务管理。")])]),t._v(" "),a("h3",{attrs:{id:"threading"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#threading"}},[t._v("#")]),t._v(" threading")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("threading")]),a("OutboundLink")],1),t._v(" 模块在较低级别的 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/_thread.html#module-_thread",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("_thread")]),a("OutboundLink")],1),t._v(" 模块之上构建较高级别的线程接口。")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("Thread")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Thread",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Thread")]),a("OutboundLink")],1),t._v(" 类代表一个在独立控制线程中运行的活动。")]),t._v(" "),a("p",[t._v("有两种方式指定活动：")]),t._v(" "),a("ul",[a("li",[t._v("传递一个可调用对象给构造函数")]),t._v(" "),a("li",[t._v("在子类重载 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Thread.run",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("run()")]),a("OutboundLink")],1),t._v(" 方法")])]),t._v(" "),a("p",[t._v("当线程对象一旦被创建，其活动必须通过调用线程的 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Thread.start",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("start()")]),a("OutboundLink")],1),t._v(" 方法开始，这会在独立的控制线程中发起调用 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Thread.run",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("run()")]),a("OutboundLink")],1),t._v(" 方法。")]),t._v(" "),a("p",[t._v("其他线程可以调用一个线程的 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Thread.join",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("join()")]),a("OutboundLink")],1),t._v(" 方法，这会阻塞调用该方法的线程，直到被调用 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Thread.join",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("join()")]),a("OutboundLink")],1),t._v(" 方法的线程终结。")]),t._v(" "),a("p",[t._v("以下为通过"),a("strong",[t._v("构造函数")]),t._v("创建线程，操作共有变量，线程不安全的例子：")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" threading\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" time\n\ncount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("global")]),t._v(" count\n    tmp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" count\n    time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.001")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tmp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n\nthread_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" _ "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    thread "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" threading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    thread_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" thread_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" thread_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Lock")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Lock",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("threading.Lock")]),a("OutboundLink")],1),t._v(" 是实现原始锁对象的类。一旦一个线程获得一个锁，会阻塞随后尝试获得锁的线程，直到它被释放；任何线程都可以释放它。")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Lock.acquire",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("acquire")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("blocking")]),t._v("="),a("em",[t._v("True")]),t._v(", "),a("em",[t._v("timeout")]),t._v("="),a("em",[t._v("-1")]),t._v(")")]),t._v(" "),a("p",[t._v("可以阻塞或非阻塞地获得锁。")]),t._v(" "),a("p",[t._v("当锁对象已经被某个线程锁定时，其他线程尝试调用 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Lock.acquire",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("acquire()")]),a("OutboundLink")],1),t._v(" 方法来获得锁时会被阻塞。")]),t._v(" "),a("p",[t._v("这些线程会一直等待，直到持有锁的线程调用 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Lock.release",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("release()")]),a("OutboundLink")],1),t._v(" 方法释放锁。释放锁后，这些被阻塞的线程中的一个线程会调用 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Lock.acquire",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("acquire()")]),a("OutboundLink")],1),t._v(" 方法获得锁。这时，锁的状态会再次变为锁定，表示当前线程已经成功获得了锁。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Lock.release",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("release")]),a("OutboundLink")],1),t._v("()")]),t._v(" "),a("p",[t._v("释放一个锁。这个方法可以在任何线程中调用，不单指获得锁的线程。")])])]),t._v(" "),a("p",[t._v("以下为通过锁，操作共有变量，线程安全的例子：")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" threading\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" time\n\ncount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nlock "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" threading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("global")]),t._v(" count\n    lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("acquire"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tmp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" count\n    time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.001")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tmp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("release"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nthread_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" _ "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    thread "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" threading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    thread_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" thread_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" thread_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Python 提供了上下文管理器来简化锁的使用，确保锁在不再需要时正确释放。")]),t._v(" "),a("p",[t._v("当进入语句块时 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Lock.acquire",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("acquire()")]),a("OutboundLink")],1),t._v(" 方法会被调用，退出语句块时 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/threading.html#threading.Lock.release",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("release()")]),a("OutboundLink")],1),t._v(" 会被调用。")]),t._v(" "),a("p",[t._v("因此，以下片段：")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" some_lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# do something...")]),t._v("\n")])])]),a("p",[t._v("相当于")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("some_lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("acquire"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# do something...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    some_lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("release"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"concurrent-futures"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#concurrent-futures"}},[t._v("#")]),t._v(" concurrent.futures")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/concurrent.futures.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("concurrent.futures")]),a("OutboundLink")],1),t._v(" 模块提供异步执行可调用对象高层接口。")]),t._v(" "),a("p",[t._v("异步执行可以由 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/concurrent.futures.html#concurrent.futures.ThreadPoolExecutor",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("ThreadPoolExecutor")]),a("OutboundLink")],1),t._v(" 使用线程或由 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/concurrent.futures.html#concurrent.futures.ProcessPoolExecutor",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("ProcessPoolExecutor")]),a("OutboundLink")],1),t._v(" 使用单独的进程来实现。两者都是实现抽像类 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/concurrent.futures.html#concurrent.futures.Executor",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Executor")]),a("OutboundLink")],1),t._v(" 定义的接口。")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/concurrent.futures.html#concurrent.futures.Executor",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("Executor")]),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("抽象类提供异步执行调用方法。要通过它的子类调用，而不是直接调用。")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/concurrent.futures.html#concurrent.futures.Executor.submit",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("submit")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("fn")]),t._v(", /, "),a("em",[t._v("*args")]),t._v(", **"),a("em",[t._v("kwargs")]),t._v(")")]),t._v(" "),a("p",[t._v("调度可调用对象 "),a("code",[t._v("fn")]),t._v("，以 "),a("code",[t._v("fn(*args, **kwargs)")]),t._v(" 方式执行并返回一个代表该可调用对象的执行的 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/concurrent.futures.html#concurrent.futures.Future",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Future")]),a("OutboundLink")],1),t._v(" 对象。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" ThreadPoolExecutor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max_workers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" executor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    future "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" executor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("submit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("pow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("323")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1235")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("future"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/concurrent.futures.html#concurrent.futures.ThreadPoolExecutor",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("ThreadPoolExecutor")]),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/concurrent.futures.html#concurrent.futures.ThreadPoolExecutor",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("ThreadPoolExecutor")]),a("OutboundLink")],1),t._v(" 是 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/concurrent.futures.html#concurrent.futures.Executor",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Executor")]),a("OutboundLink")],1),t._v(" 的子类，它使用线程池来异步执行调用。")]),t._v(" "),a("p",[t._v("以下为多线程操作共有变量，线程不安全的例子：")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("futures "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ThreadPoolExecutor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" as_completed\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" time\n\ncount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("global")]),t._v(" count\n    tmp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" count\n    time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.001")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tmp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" count\n\nexecutor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ThreadPoolExecutor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max_workers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfutures "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("executor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("submit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" future "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" as_completed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("futures"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" future"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("concurrent.futures."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/concurrent.futures.html#concurrent.futures.as_completed",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("as_completed")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("fs")]),t._v(", "),a("em",[t._v("timeout")]),t._v("="),a("em",[t._v("None")]),t._v(")")]),t._v(" "),a("p",[t._v("返回 "),a("code",[t._v("fs")]),t._v(" 给出的 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/concurrent.futures.html#concurrent.futures.Future",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Future")]),a("OutboundLink")],1),t._v(" 实例的迭代器，按线程完成的顺序返回 "),a("code",[t._v("futures")]),t._v("。")])])]),t._v(" "),a("h2",{attrs:{id:"调试与开发工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调试与开发工具"}},[t._v("#")]),t._v(" 调试与开发工具")]),t._v(" "),a("p",[a("em",[t._v("代码测试、性能分析、日志记录。")])]),t._v(" "),a("h3",{attrs:{id:"logging"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logging"}},[t._v("#")]),t._v(" logging")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/logging.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("logging")]),a("OutboundLink")],1),t._v(" 模块实现了灵活的事件日志系统的函数与类。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" logging\n\nlogging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("basicConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("level"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("INFO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlogger "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getLogger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__name__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nlogger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"登录请求成功"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"数据类型与结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据类型与结构"}},[t._v("#")]),t._v(" 数据类型与结构")]),t._v(" "),a("p",[a("em",[t._v("扩展或操作数据结构。")])]),t._v(" "),a("h3",{attrs:{id:"itertools"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#itertools"}},[t._v("#")]),t._v(" itertools")]),t._v(" "),a("h2",{attrs:{id:"安全与加密"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全与加密"}},[t._v("#")]),t._v(" 安全与加密")]),t._v(" "),a("p",[a("em",[t._v("哈希、加密、安全随机数。")])]),t._v(" "),a("h3",{attrs:{id:"hashlib"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hashlib"}},[t._v("#")]),t._v(" hashlib")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/hashlib.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("hashlib")]),a("OutboundLink")],1),t._v(" 模块实现了一个针对不同哈希算法的通用接口。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("hashlib."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/hashlib.html#hashlib.md5",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("md5")]),a("OutboundLink")],1),t._v("()")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("md5 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" hashlib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmd5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("update"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf_8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsign "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" md5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hexdigest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"secrets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#secrets"}},[t._v("#")]),t._v(" secrets")]),t._v(" "),a("p",[t._v("生成安全随机数（替代 "),a("code",[t._v("random")]),t._v("）。")]),t._v(" "),a("h3",{attrs:{id:"hmac"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hmac"}},[t._v("#")]),t._v(" hmac")]),t._v(" "),a("p",[t._v("消息签名算法。")]),t._v(" "),a("h2",{attrs:{id:"其他工具类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他工具类"}},[t._v("#")]),t._v(" 其他工具类")]),t._v(" "),a("h3",{attrs:{id:"re"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#re"}},[t._v("#")]),t._v(" re")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/re.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("re")]),a("OutboundLink")],1),t._v(" 模块提供了与 Perl 语言类似的正则表达式匹配操作。")]),t._v(" "),a("p",[a("strong",[t._v("静态方法")]),t._v("：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("re."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/re.html#re.sub",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("sub")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("pattern")]),t._v(", "),a("em",[t._v("repl")]),t._v(", "),a("em",[t._v("string")]),t._v(", "),a("em",[t._v("count")]),t._v("=0, "),a("em",[t._v("flags")]),t._v("=0)")]),t._v(" "),a("p",[t._v("返回通过使用 "),a("code",[t._v("repl")]),t._v(" 替换在 "),a("code",[t._v("string")]),t._v(" 中出现的 "),a("code",[t._v("pattern")]),t._v(" 而获得的字符串。"),a("code",[t._v("count")]),t._v(" 是可选参数，表示最多替换的次数，默认值为 0，表示替换所有匹配项。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 替换掉所有的 HTML 标签")]),t._v("\nre"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sub"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'<.*?>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time_str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("re."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/re.html#re.search",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("search")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("pattern")]),t._v(", "),a("em",[t._v("string")]),t._v(", "),a("em",[t._v("flags")]),t._v("=0)")]),t._v(" "),a("p",[t._v("扫描整个 "),a("code",[t._v("string")]),t._v("，查找正则表达式 "),a("code",[t._v("pattern")]),t._v(" 产生匹配的第一个位置，并返回相应的 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/re.html#re.Match",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Match")]),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 判断字符串中，是否存在中文")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" re"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'[\\u4e00-\\u9fff]'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" times_raw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    times_raw "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#string"}},[t._v("#")]),t._v(" string")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/string.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("string")]),a("OutboundLink")],1),t._v(" 模块提供了一组常用的字符串操作工具和常量。")]),t._v(" "),a("h3",{attrs:{id:"uuid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uuid"}},[t._v("#")]),t._v(" uuid")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/uuid.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("uuid")]),a("OutboundLink")],1),t._v(" 模块提供了不可变的 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/uuid.html#uuid.UUID",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("UUID")]),a("OutboundLink")],1),t._v(" 对象和 "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/uuid.html#uuid.uuid1",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("uuid1()")]),a("OutboundLink")],1),t._v(", "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/uuid.html#uuid.uuid3",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("uuid3()")]),a("OutboundLink")],1),t._v(", "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/uuid.html#uuid.uuid4",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("uuid4()")]),a("OutboundLink")],1),t._v(", "),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/uuid.html#uuid.uuid5",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("uuid5()")]),a("OutboundLink")],1),t._v(" 等函数用于生成 "),a("a",{attrs:{href:"https://tools.ietf.org/html/rfc4122",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 4122"),a("OutboundLink")],1),t._v(" 所定义的第 1, 3, 4 和 5 版 "),a("em",[t._v("UUID")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用一串 32 位十六进制数字创建一个 UUID")]),t._v("\nuuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UUID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'c4396c2e-cf4c-46aa-a4ef-3d20f17d88d5'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("code",[t._v("str(uuid)")]),t._v(" 返回一个 "),a("em",[t._v("12345678-1234-5678-1234-567812345678")]),t._v(" 形式的字符串，其中 32 位十六进制数字代表 "),a("em",[t._v("UUID")]),t._v("。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("uuid."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/uuid.html#uuid.uuid4",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("uuid4")]),a("OutboundLink")],1),t._v("()")]),t._v(" "),a("p",[t._v("生成一个随机的 "),a("code",[t._v("UUID")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("uuid."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/uuid.html#uuid.uuid5",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("uuid5")]),a("OutboundLink")],1),t._v("("),a("em",[t._v("namespace")]),t._v(", "),a("em",[t._v("name")]),t._v(")")]),t._v(" "),a("p",[t._v("根据 "),a("code",[t._v("namespace")]),t._v(" 和 "),a("code",[t._v("name")]),t._v(" 的 SHA-1 哈希值生成一个 "),a("code",[t._v("UUID")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("namespace "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UUID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'c4396c2e-cf4c-46aa-a4ef-3d20f17d88d5'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nname "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'example.com'")]),t._v("\nuuid5 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uuid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uuid5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("namespace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"copy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#copy"}},[t._v("#")]),t._v(" copy")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/copy.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("copy")]),a("OutboundLink")],1),t._v(" 模块提供了通用的浅层复制和深层复制操作。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("copy."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/copy.html#copy.deepcopy",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("deepcopy")]),a("OutboundLink")],1),t._v("()")]),t._v(" "),a("p",[t._v("返回对象的深拷贝。")])])]),t._v(" "),a("h3",{attrs:{id:"functools"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#functools"}},[t._v("#")]),t._v(" functools")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/functools.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("functools")]),a("OutboundLink")],1),t._v(" 模块应用于高阶函数，即参数或返回值为其他函数的函数。通常来说，此模块的功能适用于所有可调用对象。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("functools."),a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/functools.html#functools.wraps",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("wraps")]),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/functools.html#functools.wraps",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("wraps")]),a("OutboundLink")],1),t._v(" 是一个装饰器函数，使得被包装的函数的元信息（如函数名、文档字符串等）能够被正确地传递给包装后的函数，避免元信息的丢失。")]),t._v(" "),a("p",[t._v("例如，对 "),a("code",[t._v("add")]),t._v(" 函数进行包装，会丢失 "),a("code",[t._v("add")]),t._v(" 的元信息，通过 "),a("code",[t._v("wraps")]),t._v(" 避免元信息的丢失。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" functools\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("logger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@functools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wraps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wrapper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" wrapper\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@logger")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""Add two numbers."""')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__doc__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("大致等价于：")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" functools\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("logger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wrapper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    wrapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name__\n    wrapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__doc__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__doc__\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" wrapper\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@logger")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""Add two numbers."""')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__doc__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"venv"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#venv"}},[t._v("#")]),t._v(" venv")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/venv.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("venv")]),a("OutboundLink")],1),t._v(" 是创建虚拟环境的标准工具。从 Python 3.3 开始成为 Python 的组成部分；从 Python 3.4 开始，它会默认安装 "),a("code",[t._v("pip")]),t._v(" 到所创建的全部虚拟环境。")]),t._v(" "),a("p",[a("code",[t._v("virtualenv")]),t._v(" 是 "),a("code",[t._v("venv")]),t._v(" 的第三方替代及其前身。它允许在 Python 3.4 之前的版本中使用虚拟环境，那些版本或是完全不提供 "),a("code",[t._v("venv")]),t._v("，或是不会自动安装 "),a("code",[t._v("pip")]),t._v(" 到所创建的虚拟环境。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("创建虚拟环境")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("python3 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" venv DIR\n")])])])]),t._v(" "),a("li",[a("p",[t._v("激活虚拟环境")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" DIR/bin/activate  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Linux")]),t._v("\nDIR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Scripts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("activate     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Windows")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("退出虚拟环境")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("source DIR"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bin")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("deactivate  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Linux")]),t._v("\nDIR\\Scripts\\deactivate     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Windows")]),t._v("\n")])])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);