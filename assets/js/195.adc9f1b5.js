(window.webpackJsonp=window.webpackJsonp||[]).push([[195],{507:function(t,s,a){"use strict";a.r(s);var n=a(27),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"boto3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#boto3"}},[t._v("#")]),t._v(" Boto3")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/boto/boto3",target:"_blank",rel:"noopener noreferrer"}},[t._v("Boto3"),s("OutboundLink")],1),t._v(" 是一个 Python SDK，用于访问 AWS 的服务。它使开发人员能够轻松创建、配置和管理 AWS 资源，如 Amazon S3，Amazon EC2 等等。使用 boto3，开发人员可以通过 Python 代码与 AWS 进行交互，而无需手动编写 HTTP 请求。")]),t._v(" "),s("h2",{attrs:{id:"一、session"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、session"}},[t._v("#")]),t._v(" 一、Session")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/guide/session.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Session"),s("OutboundLink")],1),t._v(" 通常存储以下内容：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/guide/credentials.html#configuring-credentials",target:"_blank",rel:"noopener noreferrer"}},[t._v("Credentials"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/guide/session.html#session-configurations",target:"_blank",rel:"noopener noreferrer"}},[t._v("AWS Region"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"默认会话"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#默认会话"}},[t._v("#")]),t._v(" 默认会话")]),t._v(" "),s("p",[t._v("Boto3 作为"),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/guide/session.html#default-session",target:"_blank",rel:"noopener noreferrer"}},[t._v("默认会话"),s("OutboundLink")],1),t._v("的代理对象，会在创建低层级 "),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/core/session.html#boto3.session.Session.client",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("client")]),s("OutboundLink")],1),t._v(" 或 "),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/core/session.html#boto3.session.Session.resource",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("resource")]),s("OutboundLink")],1),t._v(" 实例时自动实例化。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Using the default session")]),t._v("\nsqs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("client"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sqs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"自定义会话"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义会话"}},[t._v("#")]),t._v(" 自定义会话")]),t._v(" "),s("p",[t._v("开发者可"),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/guide/session.html#custom-session",target:"_blank",rel:"noopener noreferrer"}},[t._v("自主管理"),s("OutboundLink")],1),t._v(" "),s("code",[t._v("Session")]),t._v(" 对象，并通过该 "),s("code",[t._v("Session")]),t._v(" 实例化低层级 "),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/core/session.html#boto3.session.Session.client",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("client")]),s("OutboundLink")],1),t._v(" 或 "),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/core/session.html#boto3.session.Session.resource",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("resource")]),s("OutboundLink")],1),t._v(" 实例。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Create your own session")]),t._v("\nmy_session "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从自定义会话创建低级客户端或资源客户端")]),t._v("\nsqs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" my_session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("client"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sqs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" my_session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"会话配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#会话配置"}},[t._v("#")]),t._v(" 会话配置")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/core/session.html#boto3.session.Session",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("Session")]),s("OutboundLink")],1),t._v(" 实例可"),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/guide/session.html#session-configurations",target:"_blank",rel:"noopener noreferrer"}},[t._v("独立配置"),s("OutboundLink")],1),t._v("访问凭证、AWS 区域参数及配置文件。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session\n\nsession "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    aws_access_key_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AWS_SERVER_PUBLIC_KEY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    aws_secret_access_key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AWS_SERVER_SECRET_KEY\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("code",[t._v("Session")]),t._v(" 对象集中维护运行时配置状态，并支持生成服务 "),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/core/session.html#boto3.session.Session.client",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("client")]),s("OutboundLink")],1),t._v(" 与 "),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/core/session.html#boto3.session.Session.resource",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("resource")]),s("OutboundLink")],1),t._v(" 实例。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("s3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"二、services"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、services"}},[t._v("#")]),t._v(" 二、Services")]),t._v(" "),s("h3",{attrs:{id:"s3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#s3"}},[t._v("#")]),t._v(" S3")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/service-resource/index.html#S3.ServiceResource",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("S3.ServiceResource")]),s("OutboundLink")],1),t._v(" 表示 S3 的服务资源类。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Bucket resource")]),t._v("\nbucket "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Object resource")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bucket_name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'key'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h4",{attrs:{id:"bucket"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bucket"}},[t._v("#")]),t._v(" Bucket")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/bucket/index.html#S3.Bucket",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("S3.Bucket")]),s("OutboundLink")],1),t._v(" 表示 S3 存储桶实体的资源类，提供存储容器级原子操作接口。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbucket "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Actions")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("bucket."),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/bucket/upload_fileobj.html#S3.Bucket.upload_fileobj",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("upload_fileobj")]),s("OutboundLink")],1),t._v("()")]),t._v(" "),s("p",[t._v("向当前存储桶执行流式上传操作，需确保 "),s("em",[t._v("file-like")]),t._v(" 对象处于二进制读取模式。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbucket "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mybucket'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'filename'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rb'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upload_fileobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mykey'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("bucket."),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/bucket/download_fileobj.html#S3.Bucket.download_fileobj",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("download_fileobj")]),s("OutboundLink")],1),t._v("()")]),t._v(" "),s("p",[t._v("对当前存储桶实例执行流式下载操作，目标 "),s("em",[t._v("file-like")]),t._v(" 对象需处于二进制写入模式。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbucket "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mybucket'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'filename'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wb'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("download_fileobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mykey'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),s("p",[s("strong",[t._v("Sub-resources")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("bucket."),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/bucket/Object.html#S3.Bucket.Object",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("Object")]),s("OutboundLink")],1),t._v("("),s("em",[t._v("key")]),t._v(")")]),t._v(" "),s("p",[t._v("表示 S3 对象资源。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'key'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),s("p",[s("strong",[t._v("Collections")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("bucket."),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/bucket/objects.html#S3.Bucket.objects",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("objects")]),s("OutboundLink")],1)]),t._v(" "),s("p",[s("code",[t._v("ObjectSummary")]),t._v(" 资源集合体默认执行全量加载，执行全域操作时需严格遵循高危操作预警。")]),t._v(" "),s("ul",[s("li",[s("p",[s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/bucket/objects.html#S3.Bucket.all",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("all")]),s("OutboundLink")],1),t._v("()")]),t._v(" "),s("p",[t._v("实例化资源集合体内 "),s("code",[t._v("ObjectSummary")]),t._v(" 全域遍历的惰性生成器，确保大数据量操作时的内存安全。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("object_summary_iterator "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/bucket/objects.html#filter",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("filter")]),s("OutboundLink")],1),t._v("()")]),t._v(" "),s("p",[t._v("实例化基于条件筛选的 "),s("code",[t._v("ObjectSummary")]),t._v(" 资源遍历生成器，该惰性加载机制实现内存效率优化。当未配置筛选条件时，资源集合体默认执行全量加载，全域遍历操作需触发高危操作预警，建议显式指定资源筛选条件以保障操作可控性。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("object_summary_iterator "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    Delimiter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'string'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    EncodingType"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Marker"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'string'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    MaxKeys"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Prefix"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'string'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    RequestPayer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'requester'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    ExpectedBucketOwner"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'string'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("将响应限制为以指定前缀开头的键。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbucket "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bucket_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Prefix"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("file_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" file_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\n")])])])])])])]),t._v(" "),s("h4",{attrs:{id:"object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#object"}},[t._v("#")]),t._v(" Object")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/object/index.html#S3.Object",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("S3.Object")]),s("OutboundLink")],1),t._v(" 表示 S3 云存储对象实体的资源类，封装对象级数据流操作方法。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bucket_name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'key'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Actions")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("object."),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/object/upload_file.html#S3.Object.upload_file",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("upload_file")]),s("OutboundLink")],1),t._v("()")]),t._v(" "),s("p",[t._v("将文件上传到 S3 对象。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ns3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mybucket'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upload_file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp/hello.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("object."),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/object/upload_fileobj.html#S3.Object.upload_fileobj",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("upload_fileobj")]),s("OutboundLink")],1),t._v("()")]),t._v(" "),s("p",[t._v("执行流式写入操作同步云端对象数据，源 "),s("em",[t._v("file-like")]),t._v(" 对象须开启二进制读取模式。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbucket "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mybucket'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nobj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mykey'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'filename'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rb'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upload_fileobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("object."),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/object/download_file.html#S3.Object.download_file",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("download_file")]),s("OutboundLink")],1),t._v("()")]),t._v(" "),s("p",[t._v("将 S3 对象下载到文件。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ns3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mybucket'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("download_file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp/hello.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("object."),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/object/download_fileobj.html#S3.Object.download_fileobj",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("download_fileobj")]),s("OutboundLink")],1),t._v("()")]),t._v(" "),s("p",[t._v("执行云端对象流式下载操作，目标 "),s("em",[t._v("file-like")]),t._v(" 对象须启用二进制写入模式。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbucket "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mybucket'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nobj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bucket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mykey'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'filename'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wb'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("download_fileobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 暂存内存")]),t._v("\nbuf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" io"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BytesIO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("download_fileobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("object."),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/object/get.html#S3.Object.get",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("get")]),s("OutboundLink")],1),t._v("()")]),t._v(" "),s("p",[t._v("从 Amazon S3 检索对象。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nobj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mybucket'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresponse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Body'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("object."),s("a",{attrs:{href:"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/object/put.html#S3.Object.put",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("put")]),s("OutboundLink")],1),t._v("()")]),t._v(" "),s("p",[t._v("将对象添加到存储桶。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" boto3\n\ns3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("local_file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rb'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    s3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bucket_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" file_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("put"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Body"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),s("h4",{attrs:{id:"第三方兼容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第三方兼容"}},[t._v("#")]),t._v(" 第三方兼容")]),t._v(" "),s("p",[t._v("S3 支持路径（Path）请求风格和虚拟托管（Virtual Hosted）请求风格。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("虚拟托管")]),t._v("：将 Bucket 置于 Host Header 的访问方式。")])]),t._v(" "),s("p",[s("strong",[t._v("第三方兼容风格")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("p",[s("a",{attrs:{href:"https://cloud.tencent.com/document/product/436/37421#python",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("腾讯云")]),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("以存储桶所在"),s("a",{attrs:{href:"https://cloud.tencent.com/document/product/436/6224",target:"_blank",rel:"noopener noreferrer"}},[t._v("地域"),s("OutboundLink")],1),t._v("是 "),s("code",[t._v("ap-guangzhou")]),t._v(" 为例。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("client "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" boto3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("client"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    endpoint_url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cos.ap-guangzhou.myqcloud.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    config"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"addressing_style"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"virtual"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"signature_version"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s3"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);