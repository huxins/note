(window.webpackJsonp=window.webpackJsonp||[]).push([[260],{569:function(s,t,e){"use strict";e.r(t);var a=e(27),r=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"sudo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sudo"}},[s._v("#")]),s._v(" Sudo")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.sudo.ws/docs/man/sudo.man/",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("sudo")]),t("OutboundLink")],1),s._v(" 是一个允许用户以其他用户（通常是超级用户 "),t("code",[s._v("root")]),s._v("）的身份执行命令的工具。它是权限管理的关键工具之一，广泛用于系统管理任务。")]),s._v(" "),t("h2",{attrs:{id:"一、功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、功能"}},[s._v("#")]),s._v(" 一、功能")]),s._v(" "),t("ul",[t("li",[s._v("临时提升普通用户的权限以执行特权操作，而无需切换到 "),t("code",[s._v("root")]),s._v(" 用户。")]),s._v(" "),t("li",[s._v("提供日志记录功能，可跟踪用户的权限使用情况。")]),s._v(" "),t("li",[s._v("支持精细化权限控制，通过配置文件限制用户能运行的命令。")])]),s._v(" "),t("h2",{attrs:{id:"二、选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、选项"}},[s._v("#")]),s._v(" 二、选项")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.sudo.ws/docs/man/sudo.man/#l",target:"_blank",rel:"noopener noreferrer"}},[s._v("-"),t("strong",[s._v("l")]),t("OutboundLink")],1),s._v("：列出当前用户可以通过 "),t("code",[s._v("sudo")]),s._v(" 执行的命令。")]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.sudo.ws/docs/man/sudo.man/#v",target:"_blank",rel:"noopener noreferrer"}},[s._v("-"),t("strong",[s._v("v")]),t("OutboundLink")],1),s._v("：重新验证用户（刷新 "),t("code",[s._v("sudo")]),s._v(" 的超时时间）。")]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.sudo.ws/docs/man/sudo.man/#k",target:"_blank",rel:"noopener noreferrer"}},[s._v("-"),t("strong",[s._v("k")]),t("OutboundLink")],1),s._v("：清除 "),t("code",[s._v("sudo")]),s._v(" 的缓存（要求用户下次再次输入密码）。")]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.sudo.ws/docs/man/sudo.man/#u",target:"_blank",rel:"noopener noreferrer"}},[s._v("-"),t("strong",[s._v("u")]),t("OutboundLink")],1),s._v(" "),t("em",[s._v("user")]),s._v("：以指定用户的身份运行命令（默认是 "),t("code",[s._v("root")]),s._v("）。")])]),s._v(" "),t("h2",{attrs:{id:"三、配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、配置文件"}},[s._v("#")]),s._v(" 三、配置文件")]),s._v(" "),t("p",[t("code",[s._v("sudo")]),s._v(" 有如下"),t("a",{attrs:{href:"https://www.sudo.ws/docs/man/visudo.man/#FILES",target:"_blank",rel:"noopener noreferrer"}},[s._v("配置文件"),t("OutboundLink")],1),s._v("：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("/etc/sudo.conf")]),s._v("：Sudo 前端配置。")]),s._v(" "),t("li",[t("code",[s._v("/etc/sudoers")]),s._v("：定义哪些用户可以执行哪些命令。")]),s._v(" "),t("li",[t("code",[s._v("/etc/sudoers.tmp")]),s._v("："),t("code",[s._v("visudo")]),s._v(" 使用的默认临时文件。")])]),s._v(" "),t("p",[t("code",[s._v("sudo")]),s._v(" 的行为由 "),t("code",[s._v("/etc/sudoers")]),s._v(" 文件控制，该文件定义了哪些用户可以执行哪些命令。")]),s._v(" "),t("p",[t("strong",[s._v("编辑 "),t("code",[s._v("sudoers")]),s._v(" 文件")]),s._v("：使用专用命令 "),t("code",[s._v("visudo")]),s._v(" 编辑。")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" visudo\n")])])]),t("p",[t("strong",[s._v("典型语法：")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("用户名 主机名=(运行身份) 命令\n")])])]),t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("root    ALL=(ALL:ALL) ALL\n%sudo   ALL=(ALL:ALL) ALL\nalice   ALL=(ALL) ALL\n")])])]),t("p",[t("strong",[s._v("常见配置示例：")])]),s._v(" "),t("p",[s._v("例如，只允许运行某些命令。")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("alice   ALL=(ALL) /bin/ls, /usr/bin/apt\n")])])]),t("p",[s._v("例如，无需输入密码。")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("alice   ALL=(ALL) NOPASSWD: ALL\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);