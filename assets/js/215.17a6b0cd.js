(window.webpackJsonp=window.webpackJsonp||[]).push([[215],{528:function(e,t,s){"use strict";s.r(t);var r=s(27),n=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"serverless"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#serverless"}},[e._v("#")]),e._v(" Serverless")]),e._v(" "),t("h2",{attrs:{id:"plugins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugins"}},[e._v("#")]),e._v(" Plugins")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://www.serverless.com/plugins",target:"_blank",rel:"noopener noreferrer"}},[e._v("Serverless Plugin"),t("OutboundLink")],1),e._v(" 实际上是一个函数的管理工具，无论针对 AWS 还是腾讯云，Plugin 的目标都是对函数进行管理。")]),e._v(" "),t("blockquote",[t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/serverless/examples",target:"_blank",rel:"noopener noreferrer"}},[e._v("serverless/examples"),t("OutboundLink")],1)])])]),e._v(" "),t("p",[e._v("以下为 "),t("code",[e._v("serverless.yml")]),e._v(" 基本配置示例：")]),e._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("service")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" aws"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("python"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("api\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("frameworkVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'3'")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("provider")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" aws\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("runtime")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" python3.7\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("functions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("api")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("handler")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" wsgi_handler.handler\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("events")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("httpApi")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'*'")]),e._v("\n")])])]),t("h3",{attrs:{id:"serverless-python-requirements"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#serverless-python-requirements"}},[e._v("#")]),e._v(" serverless-python-requirements")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/serverless/serverless-python-requirements",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("serverless-python-requirements")]),t("OutboundLink")],1),e._v(" 用于自动捆绑 "),t("code",[e._v("requirements.txt")]),e._v(" 中的依赖项并使其在您的 "),t("code",[e._v("PYTHONPATH")]),e._v(" 中可用。")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("serverless plugin "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-n")]),e._v(" serverless-python-requirements\n")])])]),t("p",[e._v("当运行 "),t("code",[e._v("sls deploy")]),e._v(" 时，该插件将捆绑在 "),t("code",[e._v("requirements.txt")]),e._v(" 或 "),t("code",[e._v("Pipfile")]),e._v(" 中指定的 "),t("code",[e._v("python")]),e._v(" 依赖项。")]),e._v(" "),t("blockquote",[t("p",[e._v("最后上传到云函数 SCF 的包，包内文件的修改时间可能导致部署失败。")])]),e._v(" "),t("h3",{attrs:{id:"serverless-wsgi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#serverless-wsgi"}},[e._v("#")]),e._v(" serverless-wsgi")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/logandk/serverless-wsgi",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("serverless-wsgi")]),t("OutboundLink")],1),e._v(" 用于使用无服务器构建部署 Python WSGI 应用程序。")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("sls plugin "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-n")]),e._v(" serverless-wsgi\n")])])]),t("h2",{attrs:{id:"腾讯云"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#腾讯云"}},[e._v("#")]),e._v(" 腾讯云")]),e._v(" "),t("p",[e._v("腾讯云 "),t("a",{attrs:{href:"https://cloud.tencent.com/document/product/583",target:"_blank",rel:"noopener noreferrer"}},[e._v("SCF"),t("OutboundLink")],1),e._v(" 支持 "),t("a",{attrs:{href:"https://cloud.tencent.com/document/product/583/55592",target:"_blank",rel:"noopener noreferrer"}},[e._v("Python"),t("OutboundLink")],1),e._v("、Node.js、Golang、PHP、Java 等语言，可选地区列表可参考"),t("a",{attrs:{href:"https://cloud.tencent.com/document/product/583/17299#.E6.94.AF.E6.8C.81.E5.9C.B0.E5.9F.9F",target:"_blank",rel:"noopener noreferrer"}},[e._v("支持地域"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("SCF 将在函数接收到触发请求时执行函数，SCF 平台负责所有函数的"),t("a",{attrs:{href:"https://cloud.tencent.com/document/product/583/9694",target:"_blank",rel:"noopener noreferrer"}},[e._v("生命周期"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("API 网关触发器将"),t("a",{attrs:{href:"https://cloud.tencent.com/document/product/583/107631",target:"_blank",rel:"noopener noreferrer"}},[e._v("下线"),t("OutboundLink")],1),e._v("，替代方案为"),t("a",{attrs:{href:"https://cloud.tencent.com/document/product/583/96099",target:"_blank",rel:"noopener noreferrer"}},[e._v("函数 URL"),t("OutboundLink")],1),e._v("。")])])}),[],!1,null,null,null);t.default=n.exports}}]);