(window.webpackJsonp=window.webpackJsonp||[]).push([[269],{581:function(t,e,r){"use strict";r.r(e);var a=r(27),s=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"网络管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网络管理"}},[t._v("#")]),t._v(" 网络管理")]),t._v(" "),e("h2",{attrs:{id:"一、tcp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、tcp"}},[t._v("#")]),t._v(" 一、TCP")]),t._v(" "),e("h3",{attrs:{id:"ip-forwarding"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ip-forwarding"}},[t._v("#")]),t._v(" IP Forwarding")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://learn.microsoft.com/zh-cn/troubleshoot/windows-client/networking/tcpip-and-nbt-configuration-parameters#tcpip-parameters-that-are-configurable-from-the-properties-of-a-network-connection",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("IPEnableRouter")]),e("OutboundLink")],1),t._v(" 用于全局控制整个系统的 IP 转发功能。")]),t._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Set-ItemProperty")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Path "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HKLM:\\SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parameters"')]),t._v(" `\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Name IPEnableRouter `\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Type")]),t._v(" DWord `\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Value 1\n")])])]),e("p",[t._v("查看单个网络接口的转发功能。")]),t._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-NetIPInterface")]),t._v(" `\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Select-Object")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Property ifIndex"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" InterfaceAlias"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" AddressFamily"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ConnectionState"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Forwarding `\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sort-Object")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Property ifIndex `\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Format-Table")]),t._v("\n")])])]),e("p",[t._v("启用所有网络接口的转发功能。")]),t._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Set-NetIPInterface")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Forwarding Enabled\n")])])]),e("p",[t._v("启用远程访问服务。")]),t._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Set-Service")]),t._v(" RemoteAccess "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("StartupType Automatic\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Start-Service")]),t._v(" RemoteAccess\n")])])]),e("h3",{attrs:{id:"active-probe"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#active-probe"}},[t._v("#")]),t._v(" Active Probe")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://learn.microsoft.com/zh-cn/windows-server/networking/ncsi/ncsi-frequently-asked-questions",target:"_blank",rel:"noopener noreferrer"}},[t._v("有关 NCSI 的常见问题的解答"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://learn.microsoft.com/zh-cn/troubleshoot/windows-server/networking/troubleshoot-ncsi-guidance",target:"_blank",rel:"noopener noreferrer"}},[t._v("网络连接状态指示器 （NCSI） 故障排除指南"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("系统无法正确判断网络连接状态时，通过调整注册表配置，让系统不去主动探测网络连接状态。")]),t._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Set-ItemProperty")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Path "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HKLM:\\SYSTEM\\CurrentControlSet\\Services\\NlaSvc\\Parameters\\Internet"')]),t._v(" `\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Name EnableActiveProbing `\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Type")]),t._v(" DWord `\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Value 0\n")])])]),e("h2",{attrs:{id:"二、远程桌面服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、远程桌面服务"}},[t._v("#")]),t._v(" 二、远程桌面服务")]),t._v(" "),e("h3",{attrs:{id:"listening-port"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#listening-port"}},[t._v("#")]),t._v(" Listening Port")]),t._v(" "),e("p",[t._v("远程桌面的"),e("a",{attrs:{href:"https://learn.microsoft.com/zh-cn/windows-server/remote/remote-desktop-services/clients/change-listening-port",target:"_blank",rel:"noopener noreferrer"}},[t._v("侦听端口"),e("OutboundLink")],1),t._v("默认为 "),e("code",[t._v("3389")]),t._v("，可以通过修改注册表来更改。")]),t._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Set-ItemProperty")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Path "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HKLM:\\System\\CurrentControlSet\\Control\\Terminal Server\\WinStations\\RDP-Tcp"')]),t._v(" `\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Name PortNumber `\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Type")]),t._v(" DWord `\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Value 3389\n")])])]),e("h2",{attrs:{id:"三、命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、命令"}},[t._v("#")]),t._v(" 三、命令")]),t._v(" "),e("h3",{attrs:{id:"路由配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由配置"}},[t._v("#")]),t._v(" 路由配置")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/route_ws2008",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("route")]),e("OutboundLink")],1),t._v(" 命令用于显示和修改本地 IP 路由表中的项。")]),t._v(" "),e("p",[t._v("查看路由表。")]),t._v(" "),e("div",{staticClass:"language-cmd extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("route print -4\n")])])]),e("p",[t._v("添加路由。")]),t._v(" "),e("div",{staticClass:"language-cmd extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("route add 192.168.11.0 mask 255.255.255.0 192.168.10.245 -p\n")])])]),e("p",[t._v("删除路由。")]),t._v(" "),e("div",{staticClass:"language-cmd extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("route delete 192.168.11.0 mask 255.255.255.0\n")])])]),e("h3",{attrs:{id:"网络接口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网络接口"}},[t._v("#")]),t._v(" 网络接口")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://learn.microsoft.com/zh-cn/windows-server/networking/technologies/netsh/netsh",target:"_blank",rel:"noopener noreferrer"}},[t._v("Network Shell"),e("OutboundLink")],1),t._v(" 以本地或远程方式显示或修改当前正在运行的计算机的网络配置。")]),t._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://learn.microsoft.com/zh-cn/previous-versions/windows/it-pro/windows-server-2008-r2-and-2008/cc770948(v=ws.10)",target:"_blank",rel:"noopener noreferrer"}},[t._v("netsh "),e("strong",[t._v("interface")]),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("配置网络接口。")]),t._v(" "),e("div",{staticClass:"language-cmd extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('# 查找网络接口的名称或索引\nnetsh interface show interface\nnetsh interface ipv4 show interfaces\n\n# 禁用或启用有线连接\nnetsh interface set interface "YourInterfaceName" admin=disable\nnetsh interface set interface "YourInterfaceName" admin=enable\n')])])])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://learn.microsoft.com/zh-cn/previous-versions/windows/it-pro/windows-server-2008-r2-and-2008/dd744889(v=ws.10)",target:"_blank",rel:"noopener noreferrer"}},[t._v("netsh "),e("strong",[t._v("wlan")]),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("配置和管理无线连接和安全设置。")]),t._v(" "),e("div",{staticClass:"language-cmd extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("# 断开与无线网络的连接\nnetsh wlan disconnect\n")])])])])]),t._v(" "),e("h3",{attrs:{id:"路由跟踪"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由跟踪"}},[t._v("#")]),t._v(" 路由跟踪")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/tracert",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("tracert")]),e("OutboundLink")],1),t._v(" 向目标发送 ICMP 请求，并以递增的 TTL 字段值来确定到达目标的路径。")]),t._v(" "),e("div",{staticClass:"language-cmd extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tracert 1.1.1.1\n")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);