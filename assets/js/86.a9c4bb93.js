(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{399:function(t,e,r){"use strict";r.r(e);var a=r(27),s=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"http"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[t._v("#")]),t._v(" HTTP")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP"),e("OutboundLink")],1),t._v(" 是一个用于传输的应用层协议。它是为 Web 浏览器与 Web 服务器之间的通信而设计的，但也可以用于其他目的。")]),t._v(" "),e("h2",{attrs:{id:"一、规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、规范"}},[t._v("#")]),t._v(" 一、规范")]),t._v(" "),e("p",[t._v("HTTP 协议于 20 世纪 90 年代初期被"),e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Resources_and_specifications",target:"_blank",rel:"noopener noreferrer"}},[t._v("规范"),e("OutboundLink")],1),t._v("化。得益于其扩展性，该规范至今又添加了大量的补充内容。这些增补规范文档散落在网络的不同位置。")]),t._v(" "),e("p",[e("strong",[t._v("HTTP/1.1")]),t._v(" 由以下规范定义：")]),t._v(" "),e("ul",[e("li",[t._v("RFC 7230："),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc7230",target:"_blank",rel:"noopener noreferrer"}},[t._v("Message Syntax and Routing"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("RFC 7231："),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc7231",target:"_blank",rel:"noopener noreferrer"}},[t._v("Semantics and Content"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("RFC 7232："),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc7232",target:"_blank",rel:"noopener noreferrer"}},[t._v("Conditional Requests"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("RFC 7233："),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc7233",target:"_blank",rel:"noopener noreferrer"}},[t._v("Range Requests"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("RFC 7234："),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc7234",target:"_blank",rel:"noopener noreferrer"}},[t._v("Caching"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("RFC 7235："),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc7235",target:"_blank",rel:"noopener noreferrer"}},[t._v("Authentication"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("这些 RFC 共同淘汰了之前定义 HTTP 的所有 RFC，包括 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc1945",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 1945"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2068",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 2068"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 2616"),e("OutboundLink")],1),t._v(" 和 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2617",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 2617"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("h2",{attrs:{id:"二、报文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、报文"}},[t._v("#")]),t._v(" 二、报文")]),t._v(" "),e("p",[t._v("用于 HTTP 协议交互的信息被称为 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-4",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP 报文"),e("OutboundLink")],1),t._v("，是 HTTP 通信中的基本单位。")]),t._v(" "),e("p",[t._v("报文本身是由多行（用 CR+LF 作换行符）数据构成的字符串文本，通过 HTTP 通信传输时，序列化为八位组字节流。")]),t._v(" "),e("p",[t._v("请求端的 HTTP 报文叫做请求报文，响应端的叫做响应报文。")]),t._v(" "),e("p",[t._v("HTTP 报文大致可分为报文首部和报文主体两块。两者由最初出现的空行（CR+LF）来划分。通常，并不一定要有报文主体。")]),t._v(" "),e("h3",{attrs:{id:"请求报文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#请求报文"}},[t._v("#")]),t._v(" 请求报文")]),t._v(" "),e("p",[t._v("请求报文是由请求方法、请求 URI、协议版本、可选的请求首部字段和内容实体构成的。")]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token request-line"}},[e("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("httpbin.org")])]),t._v("\n")])])]),e("h3",{attrs:{id:"响应报文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#响应报文"}},[t._v("#")]),t._v(" 响应报文")]),t._v(" "),e("p",[t._v("响应报文基本上由协议版本、状态码、用以解释状态码的原因短语、可选的响应首部字段以及实体主体构成。")]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token response-status"}},[e("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token status-code number"}},[t._v("200")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token reason-phrase string"}},[t._v("OK")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Date")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Thu, 19 May 2022 18:29:02 GMT")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("application/json")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Length")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("18")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OK"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),e("h2",{attrs:{id:"三、实体"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、实体"}},[t._v("#")]),t._v(" 三、实体")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-7",target:"_blank",rel:"noopener noreferrer"}},[t._v("实体"),e("OutboundLink")],1),t._v("作为请求或响应的有效载荷数据（补充项）被传输，其内容由实体首部和实体主体组成。")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-4",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP 报文"),e("OutboundLink")],1),t._v("的"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-4.3",target:"_blank",rel:"noopener noreferrer"}},[t._v("主体"),e("OutboundLink")],1),t._v("用于传输请求或响应的"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-7.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("实体主体"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[t._v("通常，"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-4.3",target:"_blank",rel:"noopener noreferrer"}},[t._v("报文主体"),e("OutboundLink")],1),t._v("等于"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-7.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("实体主体"),e("OutboundLink")],1),t._v("。只有当传输中进行编码操作时，实体主体的内容发生变化，才导致它和报文主体产生差异。")]),t._v(" "),e("h3",{attrs:{id:"内容编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内容编码"}},[t._v("#")]),t._v(" 内容编码")]),t._v(" "),e("p",[t._v("向待发送邮件内增加附件时，为了使邮件容量变小，我们会先用 ZIP 压缩文件之后再添加附件发送。HTTP 协议中有一种被称为"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-14.11",target:"_blank",rel:"noopener noreferrer"}},[t._v("内容编码"),e("OutboundLink")],1),t._v("的功能也能进行类似的操作。")]),t._v(" "),e("p",[t._v("内容编码指明应用在实体内容上的编码格式，并保持实体信息原样压缩。内容编码后的实体由客户端接收并负责解码。")]),t._v(" "),e("p",[t._v("常用的"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-3.5",target:"_blank",rel:"noopener noreferrer"}},[t._v("内容编码"),e("OutboundLink")],1),t._v("有以下几种：")]),t._v(" "),e("ul",[e("li",[t._v("gzip")]),t._v(" "),e("li",[t._v("compress")]),t._v(" "),e("li",[t._v("deflate")]),t._v(" "),e("li",[t._v("identity")])]),t._v(" "),e("h3",{attrs:{id:"传输编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#传输编码"}},[t._v("#")]),t._v(" 传输编码")]),t._v(" "),e("p",[t._v("在 HTTP 通信过程中，请求的编码实体资源尚未全部传输完成之前，浏览器无法显示请求页面。")]),t._v(" "),e("p",[t._v("在传输大容量数据时，通过 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-14.41",target:"_blank",rel:"noopener noreferrer"}},[t._v("Transfer-Encoding"),e("OutboundLink")],1),t._v(" 把数据分割成多块，能够让浏览器逐步显示页面。这种把实体主体分块的功能称为"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-3.6.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("分块传输编码"),e("OutboundLink")],1),t._v("（Chunked Transfer Coding）。")]),t._v(" "),e("p",[t._v("分块传输编码会将实体主体分成多个块，每一块都会用十六进制来标记块的大小，而实体主体的最后一块会使用 "),e("code",[t._v("0\\r\\n")]),t._v(" 来标记。")]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token response-status"}},[e("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token status-code number"}},[t._v("200")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token reason-phrase string"}},[t._v("OK")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Transfer-Encoding")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("chunked")])]),t._v("\n\nb\n01234567890\n5\n12345\n0\n\n")])])]),e("p",[t._v("使用分块传输编码的实体主体会由接收的客户端负责解码，恢复到编码前的实体主体。")]),t._v(" "),e("h3",{attrs:{id:"媒体类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#媒体类型"}},[t._v("#")]),t._v(" 媒体类型")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-14.17",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("Content-Type")]),e("OutboundLink")],1),t._v(" 头字段用于指示发送给接收者的实体主体的媒体类型，"),e("a",{attrs:{href:"https://tool.oschina.net/commons",target:"_blank",rel:"noopener noreferrer"}},[t._v("媒体类型"),e("OutboundLink")],1),t._v("告诉接收者如何解释和处理实体主体中的数据。")]),t._v(" "),e("h4",{attrs:{id:"url-encode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#url-encode"}},[t._v("#")]),t._v(" URL Encode")]),t._v(" "),e("p",[t._v("当以 "),e("code",[t._v("application/x-www-form-urlencoded")]),t._v(" 格式发送请求时，数据会被编码为键值对的形式，并使用 "),e("code",[t._v("&")]),t._v(" 连接多个键值对。")]),t._v(" "),e("p",[t._v("键和值会用 "),e("code",[t._v("=")]),t._v(" 连接，并且特殊字符会被 URL Encode。")]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token request-line"}},[e("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/post")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("httpbin.org")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("application/x-www-form-urlencoded")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Length")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("23")])]),t._v("\n\nkey1=value1&key2=value2\n")])])]),e("h4",{attrs:{id:"multipart"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#multipart"}},[t._v("#")]),t._v(" Multipart")]),t._v(" "),e("p",[t._v("发送邮件时，我们可以在邮件里写入文字并添加多份附件。这是因为采用了 MIME（Multipurpose Internet Mail Extensions，多用途因特网邮件扩展）机制，它允许邮件处理文本、图片、视频等多个不同类型的数据。")]),t._v(" "),e("p",[t._v("相应地，HTTP 协议中也采纳了"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-3.7.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("多部分"),e("OutboundLink")],1),t._v("对象集合，发送的一份报文主体内可含有多类型实体。通常是在图片或文本文件等上传时使用。")]),t._v(" "),e("p",[t._v("多部分对象集合包含的对象如下：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("multipart/form-data")]),t._v("：在 Web 表单文件上传时使用。")]),t._v(" "),e("li",[e("strong",[t._v("multipart/byteranges")]),t._v("：在状态码 206（Partial Content，部分内容）响应报文包含了多个范围的内容时使用。")])]),t._v(" "),e("p",[t._v("例如，使用 "),e("code",[t._v("multipart/form-data")]),t._v(" 发送多部份数据。")]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token request-line"}},[e("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("/post")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Host")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("httpbin.org")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW")])]),t._v("\n\n------WebKitFormBoundary7MA4YWxkTrZu0gW\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="A"')])]),t._v("\n\none\n------WebKitFormBoundary7MA4YWxkTrZu0gW\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('form-data; name="B"')])]),t._v("\n\ntwo\n------WebKitFormBoundary7MA4YWxkTrZu0gW--\n")])])]),e("p",[t._v("例如，使用 "),e("code",[t._v("multipart/byteranges")]),t._v(" 响应多部份数据。")]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token response-status"}},[e("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token status-code number"}},[t._v("206")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token reason-phrase string"}},[t._v("Partial Content")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Date")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("Sat, 21 May 2022 10:12:29 GMT")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("multipart/byteranges; boundary=00000000000002794934")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Length")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("223")])]),t._v("\n\n--00000000000002794934\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("text/plain")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Range")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("bytes 0-10/398")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token text-plain"}},[t._v("\n689531cce9c\n--00000000000002794934\nContent-Type: text/plain\nContent-Range: bytes 380-390/398\n\n6_64-DVD-20\n--00000000000002794934--\n")])])])]),e("h2",{attrs:{id:"四、标头"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、标头"}},[t._v("#")]),t._v(" 四、标头")]),t._v(" "),e("p",[t._v("在 HTTP 协议通信交互中使用到的首部字段，不限于 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-14",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 2616"),e("OutboundLink")],1),t._v(" 中定义的 47 种首部字段。还有 Cookie、Set-Cookie 和 Content-Disposition 等在其他 RFC 中定义的首部字段，它们的使用频率也很高。这些非正式的首部字段统一归纳在 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc4229",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 4229"),e("OutboundLink")],1),t._v(" 中。")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-4.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 2616"),e("OutboundLink")],1),t._v(" 和 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc7230#section-3.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 7230"),e("OutboundLink")],1),t._v(" 规定字段名称不区分大小写。"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc7540#section-8.1.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 7540"),e("OutboundLink")],1),t._v(" 也规定不区分大小写，但字段名称必须先转换为小写，才能使用在 HTTP/2 中编码。")]),t._v(" "),e("p",[t._v("HTTP 允许字段内容使用 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc7230#page-26",target:"_blank",rel:"noopener noreferrer"}},[t._v("ISO-8859-1"),e("OutboundLink")],1),t._v(" 字符集中的文本，并且仅通过使用 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2047",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 2047"),e("OutboundLink")],1),t._v(" 编码来支持其他字符集。在实践中，大多数 HTTP 头字段的值仅使用 ASCII 字符集。")]),t._v(" "),e("p",[t._v("Header Fields 大致分为 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-4.5",target:"_blank",rel:"noopener noreferrer"}},[t._v("General Header Fields"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-5.3",target:"_blank",rel:"noopener noreferrer"}},[t._v("Request Header Fields"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-6.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("Response Header Fields"),e("OutboundLink")],1),t._v(" 和 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-7.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("Entity Header Fields"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[t._v("标头也可以根据代理处理它们的方式进行分为 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-13.5.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("End-to-end"),e("OutboundLink")],1),t._v(" 和 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-13.5.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hop-by-hop"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"常规标头"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常规标头"}},[t._v("#")]),t._v(" 常规标头")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-14.18",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("Date")]),e("OutboundLink")],1),t._v(" 通用 HTTP 标头包含了消息创建时的日期和时间，于 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-3.3.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 2616"),e("OutboundLink")],1),t._v(" 和 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc7231#section-7.1.1.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 7231"),e("OutboundLink")],1),t._v(" 中定义。")]),t._v(" "),e("h3",{attrs:{id:"浏览器预览"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器预览"}},[t._v("#")]),t._v(" 浏览器预览")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-19.5.1",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("Content-Disposition")]),e("OutboundLink")],1),t._v(" 响应标头指示响应内容是直接在浏览器中预览，还是以附件的形式下载并保存到本地。")]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("inline")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("attachment")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v('attachment; filename="filename.jpg"')])]),t._v("\n")])])]),e("p",[t._v("如果附件名为中文，则需要经过 URL 编码。")]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("attachment; filename*=UTF-8''%E6%96%87%E4%BB%B6.txt")])]),t._v("\n")])])]),e("h3",{attrs:{id:"内容校验"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内容校验"}},[t._v("#")]),t._v(" 内容校验")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://tools.ietf.org/html/rfc2616#section-14.15",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("Content-MD5")]),e("OutboundLink")],1),t._v(" 标头是用于验证消息内容完整性的一个字段，于 "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc1864",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 1864"),e("OutboundLink")],1),t._v(" 中定义。")]),t._v(" "),e("p",[e("code",[t._v("Content-MD5")]),t._v(" 的值是请求体内容的 MD5 哈希值，是 128 位二进制数据，通常会以 Base64 编码的形式表示。")]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token header"}},[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-MD5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token header-value"}},[t._v("ti4QvKtVqIJAvZxDbP/c+Q==")])]),t._v("\n")])])]),e("h2",{attrs:{id:"五、安全"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五、安全"}},[t._v("#")]),t._v(" 五、安全")]),t._v(" "),e("h3",{attrs:{id:"内容安全策略"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内容安全策略"}},[t._v("#")]),t._v(" 内容安全策略")]),t._v(" "),e("p",[t._v("内容安全策略（"),e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSP"),e("OutboundLink")],1),t._v("）是一个额外的安全层，用于检测并削弱某些特定类型的攻击，包括跨站脚本（XSS）和数据注入攻击等。")]),t._v(" "),e("h2",{attrs:{id:"reference"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[t._v("#")]),t._v(" Reference")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://mjd507.github.io/2018/01/20/HTTP-Versions/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP 协议各版本特性 - "),e("em",[t._v("Jiandong")]),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2016/08/http.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP 协议入门 - "),e("em",[t._v("阮一峰的网络日志")]),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/duoani/HTTP-RFCs.zh-cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("duoani/HTTP-RFCs.zh-cn"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://notfalse.net/http-series",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP 教學 - "),e("em",[t._v("NotFalse")]),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://linianhui.github.io/code-guide/http-api/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP APIs 设计/规范指南 - "),e("em",[t._v("linianhui")]),e("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=s.exports}}]);